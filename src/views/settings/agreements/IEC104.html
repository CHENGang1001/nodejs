<title>IEC104</title>

<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-body">
                    <form class="layui-form" lay-filter="component-form-element" action="">
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <div class="layui-input-inline">
                                    <select name="quiz">
                                        <option value="">请选择转发端口</option>
                                        <option value="你工作的第一个城市">ETH1</option>
                                        <option value="你的工号">ETH2</option>
                                        <option value="你最喜欢的老师">ETH3</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <!--<label class="layui-form-label">分组选择框</label>-->
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" placeholder="请输入端口号">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <!--<label class="layui-form-label">分组选择框</label>-->
                                <div class="layui-input-inline">
                                    <input type="text" class="layui-input" placeholder="请输入转发IP">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <!--<label class="layui-form-label">分组选择框</label>-->
                                <div class="layui-input-inline">
                                    <select name="quiz">
                                        <option value="">请选则协议</option>
                                        <option value="你工作的第一个城市">IEC104</option>
                                        <option value="你的工号">IEC104</option>
                                        <option value="你最喜欢的老师">IEC104</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <!--<label class="layui-form-label">分组选择框</label>-->
                                <div class="layui-input-inline">
                                    <button class="layui-btn">添加</button>
                                </div>
                            </div>
                        </div>

                    </form>
                    <table class="layui-hide" id="test-table-cellEdit" lay-filter="test-table-cellEdit"></table>
                </div>
            </div>
        </div>
    </div>
</div>


<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script>
    layui.use(['admin','form' ,'table'], function () {
        var table = layui.table;
        var form = layui.form;

        form.render(null, 'component-form-element');
        table.render({
            elem: '#test-table-cellEdit'
            , url: './json/table/demo.js'
            , cols: [[
                {field: 'id', title: '串口名称', align: 'center', minWidth: 120, sort: true}
                , {field: 'username', title: '端口功能', align: 'center', minWidth: 120, edit: 'text'}
                , {field: 'email', title: '比特率', align: 'center', minWidth: 120, edit: 'text'}
                , {field: 'sex', title: '校验位', align: 'center', minWidth: 120, edit: 'text'}
                , {field: 'city', title: '数据位', align: 'center', minWidth: 120, edit: 'text'}
                , {field: 'experience', title: '停止位', align: 'center', edit: 'text', minWidth: 120}
                , { minWidth: 120, align: 'center', toolbar: '#barDemo'}
            ]]
        });
        //监听工具条
        table.on('tool(test-table-cellEdit)', function (obj) {
            var data = obj.data;
            if (obj.event === 'del') {
                layer.confirm('真的删除行么', function (index) {
                    obj.del();
                    layer.close(index);
                });
            }
        });

        //监听单元格编辑
        table.on('edit(test-table-cellEdit)', function (obj) {
            var value = obj.value //得到修改后的值
                , data = obj.data //得到所在行所有键值
                , field = obj.field; //得到字段
            layer.msg('[ID: ' + data.id + '] ' + field + ' 字段更改为：' + value, {
                offset: '15px'
            });
        });

    });
</script>